{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import EventManager from\"../../../EventManager\";import Draggable from'../Draggable';var Car=/*#__PURE__*/function(_React$Component){_inherits(Car,_React$Component);var _super=_createSuper(Car);function Car(props){var _this;_classCallCheck(this,Car);_this=_super.call(this,props);_this.state={show:false,isShowSmall:false,light:true,door:false,engine:false,turnLeft:false,turnRight:false,fuel:80,fuelType:'L',max_fuel:100,// Максимальная вместимость топливного бака\nspeed:0,speedLabel:'km/h',carname:'Insurgent',deg:-45,color:'#48B9F2',background:0.5,showRadar:false,radarRearSpeed:'',radarRearSpeedMax:'',radarFrontSpeed:'',radarFrontSpeedMax:'',radarPatrolSpeed:''};return _this;}_createClass(Car,[{key:\"componentDidCatch\",value:function componentDidCatch(error,errorInfo){mp.trigger('client:ui:debug','Car.jsx',error,errorInfo);// eslint-disable-line\n}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({show:false});EventManager.addHandler('hudc',function(value){if(value.type==='show'){_this2.setState({show:true});}else if(value.type==='hide'){_this2.setState({show:false});}else if(value.type==='updateValues'){_this2.setState({show:value.isShow});_this2.setState({isShowSmall:value.isShowSmall});_this2.setState({light:value.light});_this2.setState({door:value.door});_this2.setState({engine:value.engine});_this2.setState({fuel:value.fuel});_this2.setState({fuelType:value.fuelType});_this2.setState({max_fuel:value.max_fuel});_this2.setState({speed:value.speed});_this2.setState({speedLabel:value.speedLabel});_this2.setState({background:value.background});_this2.setState({carname:value.carname});_this2.setState({turnLeft:value.turnLeft});_this2.setState({turnRight:value.turnRight});}else if(value.type==='updateRadarValues'){_this2.setState({showRadar:value.showRadar});_this2.setState({radarRearSpeed:value.radarRearSpeed});_this2.setState({radarRearSpeedMax:value.radarRearSpeedMax});_this2.setState({radarFrontSpeed:value.radarFrontSpeed});_this2.setState({radarFrontSpeedMax:value.radarFrontSpeedMax});_this2.setState({radarPatrolSpeed:value.radarPatrolSpeed});}else return;});this.speed();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){EventManager.removeHandler('hudc');}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProp,prevState){if(this.state.speed!==prevState.speed){this.speed();}}},{key:\"speed\",value:function speed(){// Чуть позже добавлю перерисованный спидометр, ибо текущий с погрешностью\nvar speedProcent=this.state.speed/400*100;var deg=180*(speedProcent/100);this.setState({deg:deg-45});}/*<div className=\"car-hud\">\n                    <Draggable id=\"car-elements\">\n                        <div className=\"elements-auto\"\n                             style={{backgroundColor: 'rgba(0, 0, 0, ' + this.state.background + ')'}}>\n                            <div className={this.state.light ? 'light-auto use-mic' : 'light-auto'}></div>\n                            <div className={this.state.door ? 'on-door-auto' : 'off-door-auto'}></div>\n                            <div className={this.state.engine ? 'key-auto use-mic' : 'key-auto'}></div>\n                        </div>\n                    </Draggable>\n                    <Draggable id=\"car-fuel\">\n                        <div className=\"bak-oil\" style={{backgroundColor: 'rgba(0, 0, 0, ' + this.state.background + ')'}}>\n                            <div className=\"oil-text\">\n                                <div className=\"oil-tt\">Топливо</div>\n                                <div className=\"oil-num\">{this.state.fuel} {this.state.fuelType}</div>\n                            </div>\n                            <div className=\"oil-liner\">\n                                <div className=\"full-liner\"\n                                     style={{width: fuel_liner + '%', background: this.state.color}}></div>\n                            </div>\n                        </div>\n                    </Draggable>\n                </div>\n                <Draggable id=\"car-speedbox\" isShowSmall={this.state.isShowSmall}>\n                    <div className={this.state.isShowSmall ? 'hide' : 'speedbox-main-small'}>\n                        <div className=\"speedbox\">\n                            <div className=\"speedbox-score\" style={speed_score}></div>\n                            <div className=\"speedbox-groove\"></div>\n                        </div>\n                        <div className=\"backg-speed\">\n                            <div className=\"speed-txt\">{this.state.speed}</div>\n                        </div>\n                    </div>\n                </Draggable>\n                <Draggable id=\"car-speedbox-small\" isShowSmall={this.state.isShowSmall}>\n                    <div className={this.state.isShowSmall ? 'speedbox-small' : 'hide'}>\n                        <div className=\"speed-txt\">{this.state.speed}</div>\n                        {this.state.speedLabel}\n                    </div>\n                </Draggable>\n                */},{key:\"render\",value:function render(){var fuel_liner=this.state.fuel*100/this.state.max_fuel;var speed_score={transform:\"rotate(\".concat(this.state.deg,\"deg)\"),borderBottomColor:this.state.color,borderLeftColor:this.state.color};if(!this.state.show){return null;}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"hud__speedometr\",style:{backgroundImage:this.state.isShowSmall?'none':\"url('https://state-99.com/client/images/icons/hud/speedometer-bg.svg')\",backgroundColor:this.state.isShowSmall?'none':'rgba(0, 0, 0, 0.5)'}},!this.state.isShowSmall&&/*#__PURE__*/React.createElement(\"svg\",{className:\"svg-speedometer\",xmlns:\"http://www.w3.org/2000/svg\",xmlnsXlink:\"http://www.w3.org/1999/xlink\",viewBox:\"0 0 100 100\"},/*#__PURE__*/React.createElement(\"path\",{className:\"path-speedometer speedometer__fullbar\",d:\"M40,90 A40,40 0 1,1 60,90\",strokeDashoffset:60}),/*#__PURE__*/React.createElement(\"path\",{className:\"path-speedometer speedometer__progress\",d:\"M40,90A40,40 0 1,1 60,90\",strokeDashoffset:233-this.state.speed*0.6216})),/*#__PURE__*/React.createElement(\"span\",{className:\"hud__speedometr__speed\"},this.state.speed),/*#__PURE__*/React.createElement(\"span\",{className:\"hud__speedometr__speed__subtitle\"},this.state.speedLabel),/*#__PURE__*/React.createElement(\"img\",{src:this.state.light?\"https://state-99.com/client/images/icons/hud/light_on.svg\":\"https://state-99.com/client/images/icons/hud/light_default_on.svg\",className:\"hud__speedometr__light-on\"}),/*#__PURE__*/React.createElement(\"img\",{src:this.state.light?\"https://state-99.com/client/images/icons/hud/light_default_off.svg\":\"https://state-99.com/client/images/icons/hud/light_off.svg\",className:\"hud__speedometr__light-off\"}),/*#__PURE__*/React.createElement(\"img\",{src:this.state.door?\"https://state-99.com/client/images/icons/hud/car_lock_off_default.svg\":\"https://state-99.com/client/images/icons/hud/car_lock_off.svg\",className:\"hud__speedometr__door-on\"}),/*#__PURE__*/React.createElement(\"img\",{src:this.state.door?\"https://state-99.com/client/images/icons/hud/car_lock_on.svg\":\"https://state-99.com/client/images/icons/hud/car_lock_on_default.svg\",className:\"hud__speedometr__door-off\"}),/*#__PURE__*/React.createElement(\"img\",{src:this.state.turnLeft?\"https://state-99.com/client/images/icons/hud/arrow_left_on.svg\":\"https://state-99.com/client/images/icons/hud/arrow_left_off.svg\",className:\"hud__speedometr__arrow-left\"}),/*#__PURE__*/React.createElement(\"img\",{src:this.state.turnRight?\"https://state-99.com/client/images/icons/hud/arrow_right_on.svg\":\"https://state-99.com/client/images/icons/hud/arrow_right_off.svg\",className:\"hud__speedometr__arrow-right\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"hud__speedometr__info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"hud__speedometr__info__row\"},/*#__PURE__*/React.createElement(\"img\",{src:this.state.fuelType==='%'?\"https://state-99.com/client/images/icons/hud/power.svg\":\"https://state-99.com/client/images/icons/hud/fuel.svg\",className:\"hud__speedometr__info__fuel\",width:\"14\",style:{filter:this.state.max_fuel/10>=this.state.fuel&&this.state.fuelType!=='%'?'invert(57%) sepia(78%) saturate(6251%) hue-rotate(337deg) brightness(133%) contrast(113%)':'none'}}),/*#__PURE__*/React.createElement(\"span\",{className:\"hud__speedometr__info__fuel__text\"},\"\".concat(this.state.fuel,\"/\").concat(this.state.max_fuel))),!this.state.isShowSmall&&/*#__PURE__*/React.createElement(\"span\",{className:\"hud__speedometr__info__carname\"},this.state.carname))));}}]);return Car;}(React.Component);export default Car;","map":{"version":3,"sources":["C:/Users/Skaidrius/Downloads/ragemppro_dednet/STATE-RAGE-UI-master-fixed/src/components/hud/components/Car.jsx"],"names":["React","EventManager","Draggable","Car","props","state","show","isShowSmall","light","door","engine","turnLeft","turnRight","fuel","fuelType","max_fuel","speed","speedLabel","carname","deg","color","background","showRadar","radarRearSpeed","radarRearSpeedMax","radarFrontSpeed","radarFrontSpeedMax","radarPatrolSpeed","error","errorInfo","mp","trigger","setState","addHandler","value","type","isShow","removeHandler","prevProp","prevState","speedProcent","fuel_liner","speed_score","transform","borderBottomColor","borderLeftColor","backgroundImage","backgroundColor","filter","Component"],"mappings":"oxBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,uBAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,C,GAIMC,CAAAA,G,sGACF,aAAYC,KAAZ,CAAmB,qCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,KADG,CAETC,WAAW,CAAE,KAFJ,CAGTC,KAAK,CAAE,IAHE,CAITC,IAAI,CAAE,KAJG,CAKTC,MAAM,CAAE,KALC,CAMTC,QAAQ,CAAE,KAND,CAOTC,SAAS,CAAE,KAPF,CAQTC,IAAI,CAAE,EARG,CASTC,QAAQ,CAAE,GATD,CAUTC,QAAQ,CAAE,GAVD,CAUK;AACdC,KAAK,CAAE,CAXE,CAYTC,UAAU,CAAE,MAZH,CAaTC,OAAO,CAAE,WAbA,CAcTC,GAAG,CAAE,CAAC,EAdG,CAeTC,KAAK,CAAE,SAfE,CAgBTC,UAAU,CAAE,GAhBH,CAkBTC,SAAS,CAAE,KAlBF,CAmBTC,cAAc,CAAE,EAnBP,CAoBTC,iBAAiB,CAAE,EApBV,CAqBTC,eAAe,CAAE,EArBR,CAsBTC,kBAAkB,CAAE,EAtBX,CAuBTC,gBAAgB,CAAE,EAvBT,CAAb,CAFe,aA2BlB,C,iDAED,2BAAkBC,KAAlB,CAAyBC,SAAzB,CAAoC,CAChCC,EAAE,CAACC,OAAH,CAAW,iBAAX,CAA8B,SAA9B,CAAyCH,KAAzC,CAAgDC,SAAhD,EAA4D;AAC/D,C,iCAED,4BAAoB,iBAChB,KAAKG,QAAL,CAAc,CAAE1B,IAAI,CAAE,KAAR,CAAd,EAEAL,YAAY,CAACgC,UAAb,CAAwB,MAAxB,CAAgC,SAAAC,KAAK,CAAI,CACrC,GAAIA,KAAK,CAACC,IAAN,GAAe,MAAnB,CAA2B,CACvB,MAAI,CAACH,QAAL,CAAc,CAAC1B,IAAI,CAAE,IAAP,CAAd,EACH,CAFD,IAEO,IAAI4B,KAAK,CAACC,IAAN,GAAe,MAAnB,CAA2B,CAC9B,MAAI,CAACH,QAAL,CAAc,CAAC1B,IAAI,CAAE,KAAP,CAAd,EACH,CAFM,IAEA,IAAI4B,KAAK,CAACC,IAAN,GAAe,cAAnB,CAAmC,CACtC,MAAI,CAACH,QAAL,CAAc,CAAC1B,IAAI,CAAE4B,KAAK,CAACE,MAAb,CAAd,EACA,MAAI,CAACJ,QAAL,CAAc,CAACzB,WAAW,CAAE2B,KAAK,CAAC3B,WAApB,CAAd,EACA,MAAI,CAACyB,QAAL,CAAc,CAACxB,KAAK,CAAE0B,KAAK,CAAC1B,KAAd,CAAd,EACA,MAAI,CAACwB,QAAL,CAAc,CAACvB,IAAI,CAAEyB,KAAK,CAACzB,IAAb,CAAd,EACA,MAAI,CAACuB,QAAL,CAAc,CAACtB,MAAM,CAAEwB,KAAK,CAACxB,MAAf,CAAd,EACA,MAAI,CAACsB,QAAL,CAAc,CAACnB,IAAI,CAAEqB,KAAK,CAACrB,IAAb,CAAd,EACA,MAAI,CAACmB,QAAL,CAAc,CAAClB,QAAQ,CAAEoB,KAAK,CAACpB,QAAjB,CAAd,EACA,MAAI,CAACkB,QAAL,CAAc,CAACjB,QAAQ,CAAEmB,KAAK,CAACnB,QAAjB,CAAd,EACA,MAAI,CAACiB,QAAL,CAAc,CAAChB,KAAK,CAAEkB,KAAK,CAAClB,KAAd,CAAd,EACA,MAAI,CAACgB,QAAL,CAAc,CAACf,UAAU,CAAEiB,KAAK,CAACjB,UAAnB,CAAd,EACA,MAAI,CAACe,QAAL,CAAc,CAACX,UAAU,CAAEa,KAAK,CAACb,UAAnB,CAAd,EACA,MAAI,CAACW,QAAL,CAAc,CAACd,OAAO,CAAEgB,KAAK,CAAChB,OAAhB,CAAd,EACA,MAAI,CAACc,QAAL,CAAc,CAACrB,QAAQ,CAAEuB,KAAK,CAACvB,QAAjB,CAAd,EACA,MAAI,CAACqB,QAAL,CAAc,CAACpB,SAAS,CAAEsB,KAAK,CAACtB,SAAlB,CAAd,EACH,CAfM,IAeC,IAAIsB,KAAK,CAACC,IAAN,GAAe,mBAAnB,CAAwC,CAC5C,MAAI,CAACH,QAAL,CAAc,CAACV,SAAS,CAAEY,KAAK,CAACZ,SAAlB,CAAd,EACA,MAAI,CAACU,QAAL,CAAc,CAACT,cAAc,CAAEW,KAAK,CAACX,cAAvB,CAAd,EACA,MAAI,CAACS,QAAL,CAAc,CAACR,iBAAiB,CAAEU,KAAK,CAACV,iBAA1B,CAAd,EACA,MAAI,CAACQ,QAAL,CAAc,CAACP,eAAe,CAAES,KAAK,CAACT,eAAxB,CAAd,EACA,MAAI,CAACO,QAAL,CAAc,CAACN,kBAAkB,CAAEQ,KAAK,CAACR,kBAA3B,CAAd,EACA,MAAI,CAACM,QAAL,CAAc,CAACL,gBAAgB,CAAEO,KAAK,CAACP,gBAAzB,CAAd,EACH,CAPO,IAOD,QACV,CA5BD,EA8BA,KAAKX,KAAL,GACH,C,oCAED,+BAAuB,CAEnBf,YAAY,CAACoC,aAAb,CAA2B,MAA3B,EAEH,C,kCAED,4BAAmBC,QAAnB,CAA6BC,SAA7B,CAAwC,CACpC,GAAI,KAAKlC,KAAL,CAAWW,KAAX,GAAqBuB,SAAS,CAACvB,KAAnC,CAA0C,CACtC,KAAKA,KAAL,GACH,CACJ,C,qBAED,gBAAQ,CAAE;AAEN,GAAIwB,CAAAA,YAAY,CAAG,KAAKnC,KAAL,CAAWW,KAAX,CAAmB,GAAnB,CAAyB,GAA5C,CACA,GAAIG,CAAAA,GAAG,CAAG,KAAOqB,YAAY,CAAG,GAAtB,CAAV,CACA,KAAKR,QAAL,CAAc,CAACb,GAAG,CAAEA,GAAG,CAAG,EAAZ,CAAd,EACH,CAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kB,sBAEI,iBAAS,CACL,GAAIsB,CAAAA,UAAU,CAAI,KAAKpC,KAAL,CAAWQ,IAAX,CAAkB,GAAnB,CAA0B,KAAKR,KAAL,CAAWU,QAAtD,CACA,GAAM2B,CAAAA,WAAW,CAAG,CAChBC,SAAS,kBAAY,KAAKtC,KAAL,CAAWc,GAAvB,QADO,CAEhByB,iBAAiB,CAAE,KAAKvC,KAAL,CAAWe,KAFd,CAGhByB,eAAe,CAAE,KAAKxC,KAAL,CAAWe,KAHZ,CAApB,CAMA,GAAI,CAAC,KAAKf,KAAL,CAAWC,IAAhB,CAAsB,CAClB,MAAO,KAAP,CACH,CACD,mBACI,oBAAC,KAAD,CAAO,QAAP,mBACI,2BAAK,SAAS,CAAC,iBAAf,CACI,KAAK,CAAE,CACHwC,eAAe,CAAE,KAAKzC,KAAL,CAAWE,WAAX,CAAyB,MAAzB,yEADd,CAEHwC,eAAe,CAAE,KAAK1C,KAAL,CAAWE,WAAX,CAAyB,MAAzB,CAAkC,oBAFhD,CADX,EAKK,CAAC,KAAKF,KAAL,CAAWE,WAAZ,eACD,2BAAK,SAAS,CAAC,iBAAf,CAAiC,KAAK,CAAC,4BAAvC,CAAoE,UAAU,CAAC,8BAA/E,CAA8G,OAAO,CAAC,aAAtH,eACI,4BACI,SAAS,CAAC,uCADd,CAEI,CAAC,CAAC,2BAFN,CAGI,gBAAgB,CAAE,EAHtB,EADJ,cAMI,4BACI,SAAS,CAAC,wCADd,CAEI,CAAC,CAAC,0BAFN,CAGI,gBAAgB,CAAE,IAAM,KAAKF,KAAL,CAAWW,KAAX,CAAmB,MAH/C,EANJ,CANJ,cAkBI,4BAAM,SAAS,CAAC,wBAAhB,EAA0C,KAAKX,KAAL,CAAWW,KAArD,CAlBJ,cAmBI,4BAAM,SAAS,CAAC,kCAAhB,EAAoD,KAAKX,KAAL,CAAWY,UAA/D,CAnBJ,cAoBI,2BACI,GAAG,CAAE,KAAKZ,KAAL,CAAWG,KAAX,gIADT,CAEI,SAAS,CAAC,2BAFd,EApBJ,cAwBI,2BACI,GAAG,CAAE,KAAKH,KAAL,CAAWG,KAAX,kIADT,CAEI,SAAS,CAAC,4BAFd,EAxBJ,cA4BI,2BACI,GAAG,CAAE,KAAKH,KAAL,CAAWI,IAAX,wIADT,CAEI,SAAS,CAAC,0BAFd,EA5BJ,cAgCI,2BACI,GAAG,CAAE,KAAKJ,KAAL,CAAWI,IAAX,sIADT,CAEI,SAAS,CAAC,2BAFd,EAhCJ,cAoCI,2BACI,GAAG,CAAE,KAAKJ,KAAL,CAAWM,QAAX,mIADT,CAEI,SAAS,CAAC,6BAFd,EApCJ,cAwCI,2BACI,GAAG,CAAE,KAAKN,KAAL,CAAWO,SAAX,qIADT,CAEI,SAAS,CAAC,8BAFd,EAxCJ,cA4CI,2BAAK,SAAS,CAAC,uBAAf,eACI,2BAAK,SAAS,CAAC,4BAAf,eACI,2BACI,GAAG,CAAE,KAAKP,KAAL,CAAWS,QAAX,GAAwB,GAAxB,iHADT,CAEI,SAAS,CAAC,6BAFd,CAGI,KAAK,CAAC,IAHV,CAII,KAAK,CAAE,CAACkC,MAAM,CAAI,KAAK3C,KAAL,CAAWU,QAAX,CAAsB,EAAtB,EAA4B,KAAKV,KAAL,CAAWQ,IAAxC,EAAiD,KAAKR,KAAL,CAAWS,QAAX,GAAwB,GAA1E,CAAiF,2FAAjF,CAA+K,MAAxL,CAJX,EADJ,cAOI,4BAAM,SAAS,CAAC,mCAAhB,YAAwD,KAAKT,KAAL,CAAWQ,IAAnE,aAA2E,KAAKR,KAAL,CAAWU,QAAtF,EAPJ,CADJ,CAUK,CAAC,KAAKV,KAAL,CAAWE,WAAZ,eACG,4BAAM,SAAS,CAAC,gCAAhB,EACC,KAAKF,KAAL,CAAWa,OADZ,CAXR,CA5CJ,CADJ,CADJ,CAkEH,C,iBA/MalB,KAAK,CAACiD,S,EAkNxB,cAAe9C,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport EventManager from \"../../../EventManager\";\nimport Draggable from '../Draggable'\n\n\n\nclass Car extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            show: false,\n            isShowSmall: false,\n            light: true,\n            door: false,\n            engine: false,\n            turnLeft: false,\n            turnRight: false,\n            fuel: 80,\n            fuelType: 'L',\n            max_fuel: 100,// Максимальная вместимость топливного бака\n            speed: 0,\n            speedLabel: 'km/h',\n            carname: 'Insurgent',\n            deg: -45,\n            color: '#48B9F2',\n            background: 0.5,\n\n            showRadar: false,\n            radarRearSpeed: '',\n            radarRearSpeedMax: '',\n            radarFrontSpeed: '',\n            radarFrontSpeedMax: '',\n            radarPatrolSpeed: '',\n        }\n    }\n\n    componentDidCatch(error, errorInfo) {\n        mp.trigger('client:ui:debug', 'Car.jsx', error, errorInfo); // eslint-disable-line\n    }\n\n    componentDidMount() {\n        this.setState({ show: false })\n\n        EventManager.addHandler('hudc', value => {\n            if (value.type === 'show') {\n                this.setState({show: true})\n            } else if (value.type === 'hide') {\n                this.setState({show: false})\n            } else if (value.type === 'updateValues') {\n                this.setState({show: value.isShow});\n                this.setState({isShowSmall: value.isShowSmall});\n                this.setState({light: value.light});\n                this.setState({door: value.door});\n                this.setState({engine: value.engine});\n                this.setState({fuel: value.fuel});\n                this.setState({fuelType: value.fuelType});\n                this.setState({max_fuel: value.max_fuel});\n                this.setState({speed: value.speed});\n                this.setState({speedLabel: value.speedLabel});\n                this.setState({background: value.background});\n                this.setState({carname: value.carname});\n                this.setState({turnLeft: value.turnLeft});\n                this.setState({turnRight: value.turnRight});\n            }  else if (value.type === 'updateRadarValues') {\n                this.setState({showRadar: value.showRadar});\n                this.setState({radarRearSpeed: value.radarRearSpeed});\n                this.setState({radarRearSpeedMax: value.radarRearSpeedMax});\n                this.setState({radarFrontSpeed: value.radarFrontSpeed});\n                this.setState({radarFrontSpeedMax: value.radarFrontSpeedMax});\n                this.setState({radarPatrolSpeed: value.radarPatrolSpeed});\n            } else return;\n        })\n\n        this.speed();\n    }\n\n    componentWillUnmount() {\n\n        EventManager.removeHandler('hudc');\n\n    }\n\n    componentDidUpdate(prevProp, prevState) {\n        if (this.state.speed !== prevState.speed) {\n            this.speed();\n        }\n    }\n\n    speed() { // Чуть позже добавлю перерисованный спидометр, ибо текущий с погрешностью\n\n        let speedProcent = this.state.speed / 400 * 100;\n        let deg = 180 * (speedProcent / 100);\n        this.setState({deg: deg - 45});\n    }\n\n    /*<div className=\"car-hud\">\n                    <Draggable id=\"car-elements\">\n                        <div className=\"elements-auto\"\n                             style={{backgroundColor: 'rgba(0, 0, 0, ' + this.state.background + ')'}}>\n                            <div className={this.state.light ? 'light-auto use-mic' : 'light-auto'}></div>\n                            <div className={this.state.door ? 'on-door-auto' : 'off-door-auto'}></div>\n                            <div className={this.state.engine ? 'key-auto use-mic' : 'key-auto'}></div>\n                        </div>\n                    </Draggable>\n                    <Draggable id=\"car-fuel\">\n                        <div className=\"bak-oil\" style={{backgroundColor: 'rgba(0, 0, 0, ' + this.state.background + ')'}}>\n                            <div className=\"oil-text\">\n                                <div className=\"oil-tt\">Топливо</div>\n                                <div className=\"oil-num\">{this.state.fuel} {this.state.fuelType}</div>\n                            </div>\n                            <div className=\"oil-liner\">\n                                <div className=\"full-liner\"\n                                     style={{width: fuel_liner + '%', background: this.state.color}}></div>\n                            </div>\n                        </div>\n                    </Draggable>\n                </div>\n                <Draggable id=\"car-speedbox\" isShowSmall={this.state.isShowSmall}>\n                    <div className={this.state.isShowSmall ? 'hide' : 'speedbox-main-small'}>\n                        <div className=\"speedbox\">\n                            <div className=\"speedbox-score\" style={speed_score}></div>\n                            <div className=\"speedbox-groove\"></div>\n                        </div>\n                        <div className=\"backg-speed\">\n                            <div className=\"speed-txt\">{this.state.speed}</div>\n                        </div>\n                    </div>\n                </Draggable>\n                <Draggable id=\"car-speedbox-small\" isShowSmall={this.state.isShowSmall}>\n                    <div className={this.state.isShowSmall ? 'speedbox-small' : 'hide'}>\n                        <div className=\"speed-txt\">{this.state.speed}</div>\n                        {this.state.speedLabel}\n                    </div>\n                </Draggable>\n                */\n\n    render() {\n        let fuel_liner = (this.state.fuel * 100) / this.state.max_fuel;\n        const speed_score = {\n            transform: `rotate(${this.state.deg}deg)`,\n            borderBottomColor: this.state.color,\n            borderLeftColor: this.state.color\n        };\n\n        if (!this.state.show) {\n            return null;\n        }\n        return (\n            <React.Fragment>\n                <div className=\"hud__speedometr\"\n                    style={{\n                        backgroundImage: this.state.isShowSmall ? 'none' : `url('https://state-99.com/client/images/icons/hud/speedometer-bg.svg')`,\n                        backgroundColor: this.state.isShowSmall ? 'none' : 'rgba(0, 0, 0, 0.5)'\n                    }}>\n                    {!this.state.isShowSmall && (\n                    <svg className=\"svg-speedometer\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 100 100\">\n                        <path\n                            className=\"path-speedometer speedometer__fullbar\"\n                            d=\"M40,90 A40,40 0 1,1 60,90\"\n                            strokeDashoffset={60}\n                        />\n                        <path\n                            className=\"path-speedometer speedometer__progress\"\n                            d=\"M40,90A40,40 0 1,1 60,90\"\n                            strokeDashoffset={233 - this.state.speed * 0.6216}\n                        />\n                    </svg>)}\n                    <span className=\"hud__speedometr__speed\">{this.state.speed}</span>\n                    <span className=\"hud__speedometr__speed__subtitle\">{this.state.speedLabel}</span>\n                    <img\n                        src={this.state.light ? `https://state-99.com/client/images/icons/hud/light_on.svg` : `https://state-99.com/client/images/icons/hud/light_default_on.svg`}\n                        className=\"hud__speedometr__light-on\"\n                    />\n                    <img\n                        src={this.state.light ? `https://state-99.com/client/images/icons/hud/light_default_off.svg` : `https://state-99.com/client/images/icons/hud/light_off.svg`}\n                        className=\"hud__speedometr__light-off\"\n                    />\n                    <img\n                        src={this.state.door ? `https://state-99.com/client/images/icons/hud/car_lock_off_default.svg` : `https://state-99.com/client/images/icons/hud/car_lock_off.svg`}\n                        className=\"hud__speedometr__door-on\"\n                    />\n                    <img\n                        src={this.state.door ? `https://state-99.com/client/images/icons/hud/car_lock_on.svg` : `https://state-99.com/client/images/icons/hud/car_lock_on_default.svg`}\n                        className=\"hud__speedometr__door-off\"\n                    />\n                    <img\n                        src={this.state.turnLeft ? `https://state-99.com/client/images/icons/hud/arrow_left_on.svg` : `https://state-99.com/client/images/icons/hud/arrow_left_off.svg`}\n                        className=\"hud__speedometr__arrow-left\"\n                    />\n                    <img\n                        src={this.state.turnRight ? `https://state-99.com/client/images/icons/hud/arrow_right_on.svg` : `https://state-99.com/client/images/icons/hud/arrow_right_off.svg`}\n                        className=\"hud__speedometr__arrow-right\"\n                    />\n                    <div className=\"hud__speedometr__info\">\n                        <div className=\"hud__speedometr__info__row\">\n                            <img\n                                src={this.state.fuelType === '%' ? `https://state-99.com/client/images/icons/hud/power.svg` : `https://state-99.com/client/images/icons/hud/fuel.svg`}\n                                className=\"hud__speedometr__info__fuel\"\n                                width=\"14\"\n                                style={{filter: ((this.state.max_fuel / 10 >= this.state.fuel) && this.state.fuelType !== '%') ? 'invert(57%) sepia(78%) saturate(6251%) hue-rotate(337deg) brightness(133%) contrast(113%)' : 'none'}}\n                            />\n                            <span className=\"hud__speedometr__info__fuel__text\">{`${this.state.fuel}/${this.state.max_fuel}`}</span>\n                        </div>\n                        {!this.state.isShowSmall && (\n                            <span className=\"hud__speedometr__info__carname\">\n                            {this.state.carname}\n                        </span>)}\n                    </div>\n                </div>\n                \n\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Car;\n"]},"metadata":{},"sourceType":"module"}