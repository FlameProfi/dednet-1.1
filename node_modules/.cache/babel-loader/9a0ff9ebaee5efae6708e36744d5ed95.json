{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import'./css/main.css';import Header from'./components/Header';import CatalogItem from'./components/CatalogItem';import FlatButton from'../gunshop/uikit/FlatButton';import EventManager from\"../../../EventManager\";var Tatoo=/*#__PURE__*/function(_React$Component){_inherits(Tatoo,_React$Component);var _super=_createSuper(Tatoo);function Tatoo(props){var _this;_classCallCheck(this,Tatoo);_this=_super.call(this,props);_this.setSelected=function(value){try{_this.setState({selected:value});_this.sendEvent(value);}catch(e){}};_this.sendEvent=function(value){try{mp.trigger('client:shopMenu:changeSelect2',JSON.stringify(_this.state.items[value].params));// eslint-disable-line\n}catch(e){console.log(e);}};_this.backBtn=function(){_this.setState({type:0,selected:-1,items:_this.state.itemsBack});};_this.closeBtn=function(){_this.setState({show:false,selected:-1});try{mp.trigger('client:shopMenu:hideLeft');// eslint-disable-line\n}catch(e){console.log(e);}};_this.handleWheel=function(e){};_this.handleKeyDown=function(e){try{if([13,38,40].indexOf(e.keyCode)>-1){e.preventDefault();}if(e.keyCode===13){_this.setSelected(_this.state.selected);}else if(e.keyCode===38){if(_this.state.selected!=0||_this.state.selected===-1){_this.setState(function(state){return{selected:state.selected-1};});_this.scrollMenu('up');_this.sendEvent(_this.state.selected-1);}else{_this.setState(function(state){return{selected:state.items.length-1};});_this.itemRefs[_this.state.items.length-1].focus();_this.sendEvent(_this.state.items.length-1);}}else if(e.keyCode===40){if(_this.state.selected!=_this.state.items.length-1||_this.state.selected===-1){_this.setState(function(state){return{selected:state.selected+1};});_this.scrollMenu('down');_this.sendEvent(_this.state.selected+1);}else{_this.setState(function(state){return{selected:0};});_this.itemRefs[0].focus();_this.sendEvent(0);}}}catch(e){}};_this.itemRefs={};_this.state={show:false,bgcolor:'#252525',banner:'bs_hair',title:'Добро пожаловать',subTitle:'',type:0,selected:0,items:[{name:'Прическа для топ типов ахуеть да',desc:'Термостойкость: 20*',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0},{name:'Прическа',desc:'',price:111,sale:11},{name:'Борода',desc:'',price:1123,sale:0}],itemsBack:[{name:'Прическа',desc:'',price:111,sale:0},{name:'Борода123123',desc:'',price:1123,sale:0}]};return _this;}_createClass(Tatoo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;EventManager.addHandler('tattooshop',function(value){if(value.type==='show'){_this2.setState({show:true});_this2.itemRefs[0].focus();}else if(value.type==='hide'){_this2.setState({show:false});_this2.setState({selected:-1});}else if(value.type==='updateItems'){try{_this2.setState({show:true});_this2.setState({selected:value.selected});_this2.setState({banner:value.banner});_this2.setState({bgcolor:value.bgColor});_this2.setState({items:value.items});_this2.setState({title:value.title});_this2.setState({subTitle:value.subTitle});_this2.setState({type:value.t});_this2.itemRefs[0].focus();}catch(e){}}});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){EventManager.removeHandler('tattooshop');}},{key:\"scrollMenu\",value:function scrollMenu(type){try{if(this.state.selected===this.state.items.length&&type==='up'){/*setTimeout(\n                    function() {\n                        try {\n                            this.itemRefs[this.state.items.length - 2].focus()\n                        }\n                        catch (e) {\n\n                        }\n                    }\n                        .bind(this),\n                    120\n                )*/try{this.itemRefs[this.state.items.length-2].focus();}catch(e){}return null;}if(this.state.selected===0&&type==='down'){/*setTimeout(\n                    function() {\n                        try {\n                            this.itemRefs[1].focus()\n                        }\n                        catch (e) {\n\n                        }\n                    }\n                        .bind(this),\n                    120\n                )*/try{this.itemRefs[1].focus();}catch(e){}return null;}if(type==='up'){var selected=this.state.selected-1;/*setTimeout(\n                    function() {\n                        try {\n                            this.itemRefs[selected].focus()\n                        }\n                        catch (e) {\n\n                        }\n                    }\n                        .bind(this),\n                    120\n                )*/try{this.itemRefs[selected].focus();}catch(e){}}if(type==='down'){var _selected=this.state.selected+1;/*setTimeout(\n                    function() {\n                        try {\n                            this.itemRefs[selected].focus()\n                        }\n                        catch (e) {\n\n                        }\n                    }\n                        .bind(this),\n                    120\n                )*/try{this.itemRefs[_selected].focus();}catch(e){}}}catch(e){}}},{key:\"render\",value:function render(){var _this3=this;if(!this.state.show){return null;}return/*#__PURE__*/React.createElement(\"div\",{className:\"tatoo__container\",onWheel:function onWheel(e){return _this3.handleWheel(e);},tabIndex:\"1\",onKeyDown:function onKeyDown(e){return _this3.handleKeyDown(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"tatoo__content\"},/*#__PURE__*/React.createElement(Header,{banner:this.state.banner,title:this.state.title,subtitle:this.state.subTitle}),/*#__PURE__*/React.createElement(\"div\",{className:\"tatoo__content__list\"},this.state.items.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{key:\"tatoo__content__list-container-\".concat(index),ref:function ref(el){return _this3.itemRefs[index]=el;},tabIndex:\"-1\",style:{outline:'none'}},/*#__PURE__*/React.createElement(CatalogItem,{key:\"tatoo__content__list-\".concat(index),name:item.name,desc:item.desc,sale:item.sale,setSelected:function setSelected(){return _this3.setSelected(index);},selected:_this3.state.selected,index:index}));})),/*#__PURE__*/React.createElement(\"div\",{className:\"tatoo__content__exitbtn__container\"},/*#__PURE__*/React.createElement(\"span\",{className:\"tatoo__content__exitbtn\",onClick:function onClick(){return _this3.closeBtn();}},\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"))),this.state.type===1&&this.state.selected!==-1&&/*#__PURE__*/React.createElement(\"div\",{className:\"tatoo__payment\"},/*#__PURE__*/React.createElement(\"span\",{className:\"tatoo__payment__price\"},\"\\u0426\\u0435\\u043D\\u0430: \".concat(this.state.items[this.state.selected].price)),/*#__PURE__*/React.createElement(FlatButton,{text:\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0438\\u0442\\u044C \\u043D\\u0430\\u043B\\u0438\\u0447\\u043A\\u043E\\u0439\",onPress:function onPress(){try{mp.trigger('client:shopMenu:buyCash2',JSON.stringify(_this3.state.items[_this3.state.selected].params));// eslint-disable-line\n}catch(e){console.log(e);}},btncolor:\"#252525\",customStyle:{paddingLeft:'1rem',paddingRight:'1rem',border:\"1px solid #fff\"}}),/*#__PURE__*/React.createElement(FlatButton,{text:\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0438\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u043E\\u0439\",onPress:function onPress(){try{mp.trigger('client:shopMenu:buyCard2',JSON.stringify(_this3.state.items[_this3.state.selected].params));// eslint-disable-line\n}catch(e){console.log(e);}},btncolor:\"#252525\",customStyle:{paddingLeft:'1rem',paddingRight:'1rem',border:\"1px solid #fff\"}})));}}]);return Tatoo;}(React.Component);export default Tatoo;","map":{"version":3,"sources":["C:/Users/Skaidrius/Downloads/ragemppro_dednet/STATE-RAGE-UI-master-fixed/src/components/hudmenus/tatoo/Tatoo.jsx"],"names":["React","Header","CatalogItem","FlatButton","EventManager","Tatoo","props","setSelected","value","setState","selected","sendEvent","e","mp","trigger","JSON","stringify","state","items","params","console","log","backBtn","type","itemsBack","closeBtn","show","handleWheel","handleKeyDown","indexOf","keyCode","preventDefault","scrollMenu","length","itemRefs","focus","bgcolor","banner","title","subTitle","name","desc","price","sale","addHandler","bgColor","t","removeHandler","map","item","index","el","outline","paddingLeft","paddingRight","border","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './css/main.css'\nimport Header from './components/Header';\nimport CatalogItem from './components/CatalogItem'\nimport FlatButton from '../gunshop/uikit/FlatButton'\nimport EventManager from \"../../../EventManager\";\n\nclass Tatoo extends React.Component {\n    constructor(props) {\n        super(props)\n        this.itemRefs = {}\n        this.state = {\n            show: false,\n            bgcolor: '#252525',\n            banner: 'bs_hair',\n            title: 'Добро пожаловать',\n            subTitle: '',\n            type: 0,\n            selected: 0,\n            items: [\n                {name: 'Прическа для топ типов ахуеть да', desc: 'Термостойкость: 20*', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n                {name: 'Прическа', desc: '', price: 111, sale: 11},\n                {name: 'Борода', desc: '', price: 1123, sale: 0},\n            ],\n            itemsBack: [\n                {name: 'Прическа', desc: '', price: 111, sale: 0},\n                {name: 'Борода123123', desc: '', price: 1123, sale: 0},\n            ]\n        }\n    }\n\n    componentDidMount() {\n        EventManager.addHandler('tattooshop', value => {\n            if (value.type === 'show') {\n                this.setState({show: true})\n                this.itemRefs[0].focus()\n            } else if (value.type === 'hide') {\n                this.setState({show: false})\n\n                this.setState({\n                    selected: -1,\n                })\n            } else if (value.type === 'updateItems') {\n                try {\n                    this.setState({show: true})\n                    this.setState({selected: value.selected})\n                    this.setState({banner: value.banner})\n                    this.setState({bgcolor: value.bgColor})\n                    this.setState({items: value.items})\n                    this.setState({title: value.title})\n                    this.setState({subTitle: value.subTitle})\n                    this.setState({type: value.t})\n                    this.itemRefs[0].focus()\n                }\n                catch (e) {\n\n                }\n            }\n        })\n    }\n\n    componentWillUnmount() {\n        EventManager.removeHandler('tattooshop');\n    }\n\n    setSelected = (value) => {\n        try {\n            this.setState({\n                selected: value\n            })\n\n            this.sendEvent(value);\n        }\n        catch (e) {}\n    }\n\n    sendEvent = (value) => {\n        try {\n            mp.trigger('client:shopMenu:changeSelect2', JSON.stringify(this.state.items[value].params)); // eslint-disable-line\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    backBtn = () => {\n        this.setState({\n            type: 0,\n            selected: -1,\n            items: this.state.itemsBack,\n        })\n\n    }\n\n    closeBtn = () => {\n        this.setState({\n            show: false,\n            selected: -1,\n        })\n\n        try {\n            mp.trigger('client:shopMenu:hideLeft'); // eslint-disable-line\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    handleWheel = (e) => {\n\n    }\n\n    handleKeyDown = (e) => {\n        try {\n            if([13, 38, 40].indexOf(e.keyCode) > -1) {\n                e.preventDefault();\n            }\n\n            if (e.keyCode === 13) {\n                this.setSelected(this.state.selected);\n            }\n            else if (e.keyCode === 38) {\n                if (this.state.selected != 0 || this.state.selected === -1) {\n                    this.setState((state) => (\n                        {selected: state.selected - 1}\n                    ))\n                    this.scrollMenu('up')\n                    this.sendEvent(this.state.selected - 1);\n                } else {\n                    this.setState((state) => (\n                        {selected: state.items.length - 1}\n                    ))\n                    this.itemRefs[this.state.items.length - 1].focus()\n                    this.sendEvent(this.state.items.length - 1);\n                }\n            }\n            else if (e.keyCode === 40) {\n                if (this.state.selected != this.state.items.length - 1 || this.state.selected === -1) {\n                    this.setState((state) => (\n                        {selected: state.selected + 1}\n                    ))\n                    this.scrollMenu('down')\n                    this.sendEvent(this.state.selected + 1);\n                } else {\n                    this.setState((state) => (\n                        {selected: 0}\n                    ))\n                    this.itemRefs[0].focus()\n                    this.sendEvent(0);\n                }\n            }\n        }\n        catch (e) {}\n    }\n\n    scrollMenu(type) {\n        try {\n            if ((this.state.selected === this.state.items.length) && (type === 'up')) {\n                /*setTimeout(\n                    function() {\n                        try {\n                            this.itemRefs[this.state.items.length - 2].focus()\n                        }\n                        catch (e) {\n\n                        }\n                    }\n                        .bind(this),\n                    120\n                )*/\n                try {\n                    this.itemRefs[this.state.items.length - 2].focus()\n                }\n                catch (e) {\n\n                }\n                return null\n            }\n\n            if ((this.state.selected === 0) && (type === 'down')) {\n                /*setTimeout(\n                    function() {\n                        try {\n                            this.itemRefs[1].focus()\n                        }\n                        catch (e) {\n\n                        }\n                    }\n                        .bind(this),\n                    120\n                )*/\n                try {\n                    this.itemRefs[1].focus()\n                }\n                catch (e) {\n\n                }\n                return null\n            }\n\n            if (type === 'up') {\n                const selected = this.state.selected - 1\n                /*setTimeout(\n                    function() {\n                        try {\n                            this.itemRefs[selected].focus()\n                        }\n                        catch (e) {\n\n                        }\n                    }\n                        .bind(this),\n                    120\n                )*/\n                try {\n                    this.itemRefs[selected].focus()\n                }\n                catch (e) {\n\n                }\n            }\n            if (type === 'down') {\n                const selected = this.state.selected + 1\n                /*setTimeout(\n                    function() {\n                        try {\n                            this.itemRefs[selected].focus()\n                        }\n                        catch (e) {\n\n                        }\n                    }\n                        .bind(this),\n                    120\n                )*/\n                try {\n                    this.itemRefs[selected].focus()\n                }\n                catch (e) {\n\n                }\n            }\n        }\n        catch (e) {\n            \n        }\n    }\n\n    render() {\n        if (!this.state.show) {\n            return null;\n        }\n        return (\n            <div className=\"tatoo__container\" onWheel={(e) => this.handleWheel(e)} tabIndex=\"1\" onKeyDown={(e) => this.handleKeyDown(e)}>\n                <div className=\"tatoo__content\">\n                    <Header\n                        banner={this.state.banner}\n                        title={this.state.title}\n                        subtitle={this.state.subTitle}\n                    />\n                    <div className=\"tatoo__content__list\">\n                        {this.state.items.map((item, index) => (\n                            <div key={`tatoo__content__list-container-${index}`} ref={el => (this.itemRefs[index] = el)} tabIndex=\"-1\" style={{outline: 'none'}}>\n                                <CatalogItem\n                                    key={`tatoo__content__list-${index}`}\n                                    name={item.name}\n                                    desc={item.desc}\n                                    sale={item.sale}\n                                    setSelected={() => this.setSelected(index)}\n                                    selected={this.state.selected}\n                                    index={index}\n                                />\n                            </div>\n                        ))}\n                    </div>\n                    {/*(this.state.type === 1) && (\n                        <div className=\"tatoo__content__exitbtn__container\">\n                        <span className=\"tatoo__content__exitbtn\" onClick={() => this.backBtn()}>\n                            Назад\n                        </span>\n                        </div>\n                    )*/}\n                    {/*(this.state.type === 0) && (\n                        <div className=\"tatoo__content__exitbtn__container\">\n                        <span className=\"tatoo__content__exitbtn\" onClick={() => this.closeBtn()}>\n                            Закрыть\n                        </span>\n                        </div>\n                    )*/}\n                    <div className=\"tatoo__content__exitbtn__container\">\n                        <span className=\"tatoo__content__exitbtn\" onClick={() => this.closeBtn()}>\n                            Закрыть\n                        </span>\n                    </div>\n                </div>\n                {(this.state.type === 1 && this.state.selected !== -1) && (\n                <div className=\"tatoo__payment\">\n                    <span className=\"tatoo__payment__price\">\n                        {`Цена: ${this.state.items[this.state.selected].price}`}\n                    </span>\n                    <FlatButton text=\"Оплатить наличкой\" onPress={() => {\n                        try {\n                            mp.trigger('client:shopMenu:buyCash2', JSON.stringify(this.state.items[this.state.selected].params)); // eslint-disable-line\n                        } catch (e) {\n                            console.log(e);\n                        }\n                    }}  btncolor=\"#252525\" customStyle={{paddingLeft: '1rem', paddingRight: '1rem', border: `1px solid #fff`}} />\n                    <FlatButton text=\"Оплатить картой\" onPress={() => {\n                        try {\n                            mp.trigger('client:shopMenu:buyCard2', JSON.stringify(this.state.items[this.state.selected].params)); // eslint-disable-line\n                        } catch (e) {\n                            console.log(e);\n                        }\n                    }}  btncolor=\"#252525\" customStyle={{paddingLeft: '1rem', paddingRight: '1rem', border: `1px solid #fff`}} />\n                </div>\n                )}\n            </div>\n        )\n    }\n}\n\nexport default Tatoo"]},"metadata":{},"sourceType":"module"}