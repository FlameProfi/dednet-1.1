{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import MaterialTable from\"material-table\";var UTable=/*#__PURE__*/function(_React$Component){_inherits(UTable,_React$Component);var _super=_createSuper(UTable);function UTable(props){var _this;_classCallCheck(this,UTable);_this=_super.call(this,props);_this.state={title:_this.props.title,columns:_this.props.columns,data:_this.props.data,readonly:_this.props.readonly,editable:{onRowAdd:function onRowAdd(newData){return new Promise(function(resolve){setTimeout(function(){resolve();_this.setState(function(prevState){var data=_toConsumableArray(prevState.data);data.push(newData);console.log('ADD',newData);try{mp.trigger('client:phone:table','add',newData);// eslint-disable-line\n}catch(e){console.log(e);}return _objectSpread(_objectSpread({},prevState),{},{data:data});});},600);});},onRowUpdate:function onRowUpdate(newData,oldData){return new Promise(function(resolve){setTimeout(function(){resolve();if(oldData){_this.setState(function(prevState){var data=_toConsumableArray(prevState.data);data[data.indexOf(oldData)]=newData;console.log('UPDATE',newData);try{mp.trigger('client:phone:table','update',newData);// eslint-disable-line\n}catch(e){console.log(e);}return _objectSpread(_objectSpread({},prevState),{},{data:data});});}},600);});},onRowDelete:function onRowDelete(oldData){return new Promise(function(resolve){setTimeout(function(){resolve();_this.setState(function(prevState){var data=_toConsumableArray(prevState.data);data.splice(data.indexOf(oldData),1);console.log('DELETE',oldData);try{mp.trigger('client:phone:table','delete',oldData);// eslint-disable-line\n}catch(e){console.log(e);}return _objectSpread(_objectSpread({},prevState),{},{data:data});});},600);});}},localization:{header:{actions:' '},body:{emptyDataSourceMessage:'Список пуст',editTooltip:'Редактировать',deleteTooltip:'Удалить',addTooltip:'Добавить',filterRow:{filterTooltip:'Фильтр'},editRow:{deleteText:'Подтвердить удаление?',cancelTooltip:'Отмена',saveTooltip:'Сохранить'}},pagination:{labelDisplayedRows:'{from}-{to} из {count}',labelRowsSelect:'строк(а)',labelRowsPerPage:'Строк на странице:',firstAriaLabel:'В начало.',firstTooltip:'В начало',previousAriaLabel:'Сюда',previousTooltip:'Сюда',nextAriaLabel:'Туда',nextTooltip:'Туда',lastAriaLabel:'В конец',lastTooltip:'В конец'},toolbar:{addRemoveColumns:'Добавить или удалить столбцы',nRowsSelected:'{0} строк(а) выбрано',showColumnsTitle:'Показать столбцы',showColumnsAriaLabel:'Показать столбцы',searchTooltip:'Поиск',searchPlaceholder:'Поиск'}},options:{actionsColumnIndex:-1,search:true,pageSize:3,addRowPosition:'first',maxBodyHeight:\"50%\",actionsCellStyle:{},headerStyle:{fontSize:\"14px\"},rowStyle:{fontSize:\"12px\"}}};return _this;}_createClass(UTable,[{key:\"componentDidCatch\",value:function componentDidCatch(error,errorInfo){mp.trigger('client:ui:debug','UTable.jsx',error,errorInfo);// eslint-disable-line\n}},{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.state.data.length<=10?this.setState(function(prevState){return _objectSpread({},prevState.options.pageSize=_this2.state.data.length);}):this.setState(function(prevState){return _objectSpread({},prevState.options.pageSize=10);});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProp,prevState){var _this3=this;console.log(this.state.data.length);console.log(prevState.data.length);if(this.state.data.length!==prevState.data.length){this.state.data.length<=10?this.setState(function(prevState){return _objectSpread({},prevState.options.pageSize=_this3.state.data.length);}):this.setState(function(prevState){return _objectSpread({},prevState.options.pageSize=10);});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(MaterialTable,{style:{width:'100%',align:'center',whiteSpace:'nowrap'},title:this.state.title,columns:this.state.columns,data:this.state.data,options:this.state.options,localization:this.state.localization,editable:this.state.readonly?null:this.state.editable});}}]);return UTable;}(React.Component);export default UTable;","map":{"version":3,"sources":["C:/Users/Skaidrius/Downloads/ragemppro_dednet/STATE-RAGE-UI-master-fixed/src/components/phone/components/apps/UTable.jsx"],"names":["React","MaterialTable","UTable","props","state","title","columns","data","readonly","editable","onRowAdd","newData","Promise","resolve","setTimeout","setState","prevState","push","console","log","mp","trigger","e","onRowUpdate","oldData","indexOf","onRowDelete","splice","localization","header","actions","body","emptyDataSourceMessage","editTooltip","deleteTooltip","addTooltip","filterRow","filterTooltip","editRow","deleteText","cancelTooltip","saveTooltip","pagination","labelDisplayedRows","labelRowsSelect","labelRowsPerPage","firstAriaLabel","firstTooltip","previousAriaLabel","previousTooltip","nextAriaLabel","nextTooltip","lastAriaLabel","lastTooltip","toolbar","addRemoveColumns","nRowsSelected","showColumnsTitle","showColumnsAriaLabel","searchTooltip","searchPlaceholder","options","actionsColumnIndex","search","pageSize","addRowPosition","maxBodyHeight","actionsCellStyle","headerStyle","fontSize","rowStyle","error","errorInfo","length","prevProp","width","align","whiteSpace","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport MaterialTable from \"material-table\";\n\nclass UTable extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            title: this.props.title,\n            columns: this.props.columns,\n            data: this.props.data,\n            readonly: this.props.readonly,\n            editable: {\n                onRowAdd: newData =>\n                    new Promise(resolve => {\n                        setTimeout(() => {\n                            resolve();\n                            this.setState(prevState => {\n                                const data = [...prevState.data];\n                                data.push(newData);\n\n                                console.log('ADD', newData);\n\n                                try {\n                                    mp.trigger('client:phone:table', 'add', newData); // eslint-disable-line\n                                } catch (e) {\n                                    console.log(e);\n                                }\n\n                                return {...prevState, data};\n                            });\n                        }, 600);\n                    }),\n                onRowUpdate: (newData, oldData) =>\n                    new Promise(resolve => {\n                        setTimeout(() => {\n                            resolve();\n                            if (oldData) {\n                                this.setState(prevState => {\n                                    const data = [...prevState.data];\n                                    data[data.indexOf(oldData)] = newData;\n\n                                    console.log('UPDATE', newData);\n\n                                    try {\n                                        mp.trigger('client:phone:table', 'update', newData); // eslint-disable-line\n                                    } catch (e) {\n                                        console.log(e);\n                                    }\n\n                                    return {...prevState, data};\n                                });\n                            }\n                        }, 600);\n                    }),\n                onRowDelete: oldData =>\n                    new Promise(resolve => {\n                        setTimeout(() => {\n                            resolve();\n                            this.setState(prevState => {\n                                const data = [...prevState.data];\n                                data.splice(data.indexOf(oldData), 1);\n\n                                console.log('DELETE', oldData);\n\n                                try {\n                                    mp.trigger('client:phone:table', 'delete', oldData); // eslint-disable-line\n                                } catch (e) {\n                                    console.log(e);\n                                }\n\n                                return {...prevState, data};\n                            });\n                        }, 600);\n                    }),\n            },\n            localization: {\n                header: {\n                    actions: ' '\n                },\n                body: {\n                    emptyDataSourceMessage: 'Список пуст',\n                    editTooltip: 'Редактировать',\n                    deleteTooltip: 'Удалить',\n                    addTooltip: 'Добавить',\n                    filterRow: {filterTooltip: 'Фильтр'},\n                    editRow: {\n                        deleteText: 'Подтвердить удаление?',\n                        cancelTooltip: 'Отмена',\n                        saveTooltip: 'Сохранить'\n                    },\n                },\n                pagination: {\n                    labelDisplayedRows: '{from}-{to} из {count}',\n                    labelRowsSelect: 'строк(а)',\n                    labelRowsPerPage: 'Строк на странице:',\n                    firstAriaLabel: 'В начало.',\n                    firstTooltip: 'В начало',\n                    previousAriaLabel: 'Сюда',\n                    previousTooltip: 'Сюда',\n                    nextAriaLabel: 'Туда',\n                    nextTooltip: 'Туда',\n                    lastAriaLabel: 'В конец',\n                    lastTooltip: 'В конец'\n                },\n                toolbar: {\n                    addRemoveColumns: 'Добавить или удалить столбцы',\n                    nRowsSelected: '{0} строк(а) выбрано',\n                    showColumnsTitle: 'Показать столбцы',\n                    showColumnsAriaLabel: 'Показать столбцы',\n                    searchTooltip: 'Поиск',\n                    searchPlaceholder: 'Поиск'\n                }\n            },\n            options: {\n                actionsColumnIndex: -1,\n                search: true,\n                pageSize: 3,\n                addRowPosition: 'first',\n                maxBodyHeight: \"50%\",\n                actionsCellStyle: {},\n                headerStyle: {\n                    fontSize: \"14px\"\n                },\n                rowStyle: {\n                    fontSize: \"12px\"\n                }\n            }\n        }\n    }\n\n    componentDidCatch(error, errorInfo) {\n        mp.trigger('client:ui:debug', 'UTable.jsx', error, errorInfo); // eslint-disable-line\n    }\n\n    componentWillMount() {\n        this.state.data.length <= 10 ?\n            this.setState(prevState => ({...prevState.options.pageSize = this.state.data.length}))\n            :\n            this.setState(prevState => ({...prevState.options.pageSize = 10}))\n    }\n\n    componentDidUpdate(prevProp, prevState) {\n        console.log(this.state.data.length)\n        console.log(prevState.data.length)\n        if (this.state.data.length !== prevState.data.length) {\n            this.state.data.length <= 10 ?\n                this.setState(prevState => ({...prevState.options.pageSize = this.state.data.length}))\n                :\n                this.setState(prevState => ({...prevState.options.pageSize = 10}))\n        }\n    }\n\n    render() {\n        return (\n            <MaterialTable style={{width: '100%', align: 'center', whiteSpace: 'nowrap'}}\n                           title={this.state.title}\n                           columns={this.state.columns}\n                           data={this.state.data}\n                           options={this.state.options}\n                           localization={this.state.localization}\n                           editable={this.state.readonly ? null : this.state.editable}\n            />\n        )\n    }\n}\n\nexport default UTable;\n"]},"metadata":{},"sourceType":"module"}