{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import EventManager from\"../../../../EventManager\";var Console=/*#__PURE__*/function(_React$Component){_inherits(Console,_React$Component);var _super=_createSuper(Console);function Console(props){var _this;_classCallCheck(this,Console);_this=_super.call(this,props);_this.handleKeyPress=function(event){if(event.key==='Enter'){_this.sendMessage();}else if(event.key==='ArrowUp'){console.log(_this.state.history_counter);console.log(_this.props.console_message);if(_this.props.console_message.length<=_this.state.history_counter){_this.setState({history_counter:0},function(){return _this.setState({text:_this.props.console_message[0]});});}else{_this.setState({text:_this.props.console_message[0+parseInt(_this.state.history_counter)]});}_this.setState({history_counter:_this.state.history_counter+1});}else if(event.key==='ArrowDown'){_this.setState({history_counter:_this.state.history_counter-1});console.log(_this.state.history_counter);console.log(_this.props.console_message);if(_this.state.history_counter<0){_this.setState({history_counter:_this.props.console_message.length-1},function(){return _this.setState({text:_this.props.console_message[_this.props.console_message.length-1]});});}else{_this.setState({text:_this.props.console_message[0+parseInt(_this.state.history_counter)]});}}};_this.state={title:'>/ Console',text:'',current_user:'root',current_server:'localhost',history_counter:0};return _this;}_createClass(Console,[{key:\"componentDidCatch\",value:function componentDidCatch(error,errorInfo){mp.trigger('client:ui:debug','Console.jsx',error,errorInfo);// eslint-disable-line\n}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.addEventListener(\"keydown\",this.handleKeyPress);EventManager.addHandler('phone_console',function(value){if(value.type==='updateUser'){_this2.setState({current_user:value.user});}else if(value.type==='updateServer'){_this2.setState({current_server:value.server});}else return;});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"keydown\",this.handleKeyPress);EventManager.removeHandler('phone_console');}},{key:\"inputChange\",value:function inputChange(message){if(this.state.text&&this.state.text.length>=500)return;// Макс длинна сообщения 600 символов\nthis.setState({text:message.target.value});}},{key:\"inputFocus\",value:function inputFocus(focus){try{mp.trigger('client:phone:inputModal',true);// eslint-disable-line\n}catch(e){}}},{key:\"inputBlur\",value:function inputBlur(focus){try{mp.trigger('client:phone:inputModal',false);// eslint-disable-line\n}catch(e){}}},{key:\"sendMessage\",value:function sendMessage(){if(this.state.text!==undefined||this.state.text===''){this.props.consoleCommand(\"[\".concat(this.state.current_user,\"@\").concat(this.state.current_server,\":~ ] $ \").concat(this.state.text));try{mp.trigger('client:phone:consoleCallback',this.state.text);// eslint-disable-line\n}catch(e){}}this.setState({text:'',history_counter:0});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"dedbit-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"console-main\"},/*#__PURE__*/React.createElement(\"span\",{className:\"iphone__app__name\"},\"Konsol\\u0117\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"console-chat-ul\"},this.props.console_message.map(function(e,i){var index=\"consolelist\".concat(i);return/*#__PURE__*/React.createElement(\"li\",{key:index},e)/*<li key={index}><a>[{this.state.current_user}@{this.state.current_server}:~ ] $ </a>{e}</li>*/;})),/*#__PURE__*/React.createElement(\"div\",{className:\"console-input\"},/*#__PURE__*/React.createElement(\"span\",null,\"$:>\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"c-i-style\",value:this.state.text,onBlur:function onBlur(e){return _this3.inputBlur(e);},onFocus:function onFocus(e){return _this3.inputFocus(e);},onChange:function onChange(e){return _this3.inputChange(e);}})))));}}]);return Console;}(React.Component);export default Console;","map":{"version":3,"sources":["C:/Users/Skaidrius/Downloads/ragemppro_dednet/STATE-RAGE-UI-master-fixed/src/components/phone/components/Android/Console.jsx"],"names":["React","EventManager","Console","props","handleKeyPress","event","key","sendMessage","console","log","state","history_counter","console_message","length","setState","text","parseInt","title","current_user","current_server","error","errorInfo","mp","trigger","document","addEventListener","addHandler","value","type","user","server","removeEventListener","removeHandler","message","target","focus","e","undefined","consoleCommand","map","i","index","inputBlur","inputFocus","inputChange","Component"],"mappings":"oxBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,C,GAEMC,CAAAA,O,8GACF,iBAAYC,KAAZ,CAAmB,yCACf,uBAAMA,KAAN,EADe,MAenBC,cAfmB,CAeF,SAACC,KAAD,CAAW,CACxB,GAAIA,KAAK,CAACC,GAAN,GAAc,OAAlB,CAA2B,CACvB,MAAKC,WAAL,GACH,CAFD,IAEO,IAAIF,KAAK,CAACC,GAAN,GAAc,SAAlB,CAA6B,CAChCE,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWC,eAAvB,EACAH,OAAO,CAACC,GAAR,CAAY,MAAKN,KAAL,CAAWS,eAAvB,EACA,GAAI,MAAKT,KAAL,CAAWS,eAAX,CAA2BC,MAA3B,EAAqC,MAAKH,KAAL,CAAWC,eAApD,CAAqE,CACjE,MAAKG,QAAL,CAAc,CAAEH,eAAe,CAAE,CAAnB,CAAd,CAAsC,iBAAM,OAAKG,QAAL,CAAc,CAAEC,IAAI,CAAE,MAAKZ,KAAL,CAAWS,eAAX,CAA2B,CAA3B,CAAR,CAAd,CAAN,EAAtC,EACH,CAFD,IAEO,CACH,MAAKE,QAAL,CAAc,CAAEC,IAAI,CAAE,MAAKZ,KAAL,CAAWS,eAAX,CAA2B,EAAII,QAAQ,CAAC,MAAKN,KAAL,CAAWC,eAAZ,CAAvC,CAAR,CAAd,EACH,CACD,MAAKG,QAAL,CAAc,CAAEH,eAAe,CAAE,MAAKD,KAAL,CAAWC,eAAX,CAA6B,CAAhD,CAAd,EACH,CATM,IASA,IAAIN,KAAK,CAACC,GAAN,GAAc,WAAlB,CAA+B,CAClC,MAAKQ,QAAL,CAAc,CAAEH,eAAe,CAAE,MAAKD,KAAL,CAAWC,eAAX,CAA6B,CAAhD,CAAd,EACAH,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWC,eAAvB,EACAH,OAAO,CAACC,GAAR,CAAY,MAAKN,KAAL,CAAWS,eAAvB,EACA,GAAI,MAAKF,KAAL,CAAWC,eAAX,CAA6B,CAAjC,CAAoC,CAChC,MAAKG,QAAL,CAAc,CAAEH,eAAe,CAAE,MAAKR,KAAL,CAAWS,eAAX,CAA2BC,MAA3B,CAAoC,CAAvD,CAAd,CAA0E,iBAAM,OAAKC,QAAL,CAAc,CAAEC,IAAI,CAAE,MAAKZ,KAAL,CAAWS,eAAX,CAA2B,MAAKT,KAAL,CAAWS,eAAX,CAA2BC,MAA3B,CAAoC,CAA/D,CAAR,CAAd,CAAN,EAA1E,EACH,CAFD,IAEO,CACH,MAAKC,QAAL,CAAc,CAAEC,IAAI,CAAE,MAAKZ,KAAL,CAAWS,eAAX,CAA2B,EAAII,QAAQ,CAAC,MAAKN,KAAL,CAAWC,eAAZ,CAAvC,CAAR,CAAd,EACH,CACJ,CACJ,CArCkB,CAEf,MAAKD,KAAL,CAAa,CACTO,KAAK,CAAE,YADE,CAETF,IAAI,CAAE,EAFG,CAGTG,YAAY,CAAE,MAHL,CAITC,cAAc,CAAE,WAJP,CAKTR,eAAe,CAAE,CALR,CAAb,CAFe,aASlB,C,qDAED,2BAAkBS,KAAlB,CAAyBC,SAAzB,CAAoC,CAChCC,EAAE,CAACC,OAAH,CAAW,iBAAX,CAA8B,aAA9B,CAA6CH,KAA7C,CAAoDC,SAApD,EAAgE;AACnE,C,iCA0BD,4BAAoB,iBAChBG,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqC,KAAKrB,cAA1C,EAEAH,YAAY,CAACyB,UAAb,CAAwB,eAAxB,CAAyC,SAAAC,KAAK,CAAI,CAC9C,GAAIA,KAAK,CAACC,IAAN,GAAe,YAAnB,CAAiC,CAC7B,MAAI,CAACd,QAAL,CAAc,CAAEI,YAAY,CAAES,KAAK,CAACE,IAAtB,CAAd,EACH,CAFD,IAEO,IAAIF,KAAK,CAACC,IAAN,GAAe,cAAnB,CAAmC,CACtC,MAAI,CAACd,QAAL,CAAc,CAAEK,cAAc,CAAEQ,KAAK,CAACG,MAAxB,CAAd,EACH,CAFM,IAEA,QACV,CAND,EAOH,C,oCAED,+BAAuB,CACnBN,QAAQ,CAACO,mBAAT,CAA6B,SAA7B,CAAwC,KAAK3B,cAA7C,EACAH,YAAY,CAAC+B,aAAb,CAA2B,eAA3B,EACH,C,2BAED,qBAAYC,OAAZ,CAAqB,CACjB,GAAI,KAAKvB,KAAL,CAAWK,IAAX,EAAmB,KAAKL,KAAL,CAAWK,IAAX,CAAgBF,MAAhB,EAA0B,GAAjD,CAAsD,OAAQ;AAC9D,KAAKC,QAAL,CAAc,CAAEC,IAAI,CAAEkB,OAAO,CAACC,MAAR,CAAeP,KAAvB,CAAd,EACH,C,0BAED,oBAAWQ,KAAX,CAAkB,CACd,GAAI,CACAb,EAAE,CAACC,OAAH,CAAW,yBAAX,CAAsC,IAAtC,EAA6C;AAChD,CAAC,MAAOa,CAAP,CAAU,CACX,CACJ,C,yBAED,mBAAUD,KAAV,CAAiB,CACb,GAAI,CACAb,EAAE,CAACC,OAAH,CAAW,yBAAX,CAAsC,KAAtC,EAA8C;AACjD,CAAC,MAAOa,CAAP,CAAU,CACX,CACJ,C,2BAED,sBAAc,CACV,GAAI,KAAK1B,KAAL,CAAWK,IAAX,GAAoBsB,SAApB,EAAiC,KAAK3B,KAAL,CAAWK,IAAX,GAAoB,EAAzD,CAA6D,CACzD,KAAKZ,KAAL,CAAWmC,cAAX,YAA8B,KAAK5B,KAAL,CAAWQ,YAAzC,aAAyD,KAAKR,KAAL,CAAWS,cAApE,mBAA4F,KAAKT,KAAL,CAAWK,IAAvG,GAEA,GAAI,CACAO,EAAE,CAACC,OAAH,CAAW,8BAAX,CAA2C,KAAKb,KAAL,CAAWK,IAAtD,EAA6D;AAChE,CAAC,MAAOqB,CAAP,CAAU,CACX,CACJ,CACD,KAAKtB,QAAL,CAAc,CAAEC,IAAI,CAAE,EAAR,CAAYJ,eAAe,CAAE,CAA7B,CAAd,EACH,C,sBACD,iBAAS,iBACL,mBACI,oBAAC,KAAD,CAAO,QAAP,mBACI,2BAAK,SAAS,CAAC,aAAf,eACI,2BAAK,SAAS,CAAC,cAAf,eACA,4BAAM,SAAS,CAAC,mBAAhB,iBADA,cAEI,0BAAI,SAAS,CAAC,iBAAd,EACK,KAAKR,KAAL,CAAWS,eAAX,CAA2B2B,GAA3B,CAA+B,SAACH,CAAD,CAAII,CAAJ,CAAU,CACtC,GAAIC,CAAAA,KAAK,sBAAiBD,CAAjB,CAAT,CACA,mBACI,0BAAI,GAAG,CAAEC,KAAT,EAAiBL,CAAjB,CACA,gGAFJ,CAIH,CANA,CADL,CAFJ,cAWI,2BAAK,SAAS,CAAC,eAAf,eAGI,sCAHJ,cAII,6BAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,WAA7B,CACI,KAAK,CAAE,KAAK1B,KAAL,CAAWK,IADtB,CAC4B,MAAM,CAAE,gBAACqB,CAAD,QAAO,CAAA,MAAI,CAACM,SAAL,CAAeN,CAAf,CAAP,EADpC,CAC8D,OAAO,CAAE,iBAACA,CAAD,QAAO,CAAA,MAAI,CAACO,UAAL,CAAgBP,CAAhB,CAAP,EADvE,CACkG,QAAQ,CAAE,kBAACA,CAAD,QAAO,CAAA,MAAI,CAACQ,WAAL,CAAiBR,CAAjB,CAAP,EAD5G,EAJJ,CAXJ,CADJ,CADJ,CADJ,CA2BH,C,qBAnHiBpC,KAAK,CAAC6C,S,EAsH5B,cAAe3C,CAAAA,OAAf","sourcesContent":["import React from 'react';\nimport EventManager from \"../../../../EventManager\";\n\nclass Console extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            title: '>/ Console',\n            text: '',\n            current_user: 'root',\n            current_server: 'localhost',\n            history_counter: 0\n        }\n    }\n\n    componentDidCatch(error, errorInfo) {\n        mp.trigger('client:ui:debug', 'Console.jsx', error, errorInfo); // eslint-disable-line\n    }\n\n    handleKeyPress = (event) => {\n        if (event.key === 'Enter') {\n            this.sendMessage();\n        } else if (event.key === 'ArrowUp') {\n            console.log(this.state.history_counter)\n            console.log(this.props.console_message)\n            if (this.props.console_message.length <= this.state.history_counter) {\n                this.setState({ history_counter: 0 }, () => this.setState({ text: this.props.console_message[0] }))\n            } else {\n                this.setState({ text: this.props.console_message[0 + parseInt(this.state.history_counter)] })\n            }\n            this.setState({ history_counter: this.state.history_counter + 1 })\n        } else if (event.key === 'ArrowDown') {\n            this.setState({ history_counter: this.state.history_counter - 1 })\n            console.log(this.state.history_counter)\n            console.log(this.props.console_message)\n            if (this.state.history_counter < 0) {\n                this.setState({ history_counter: this.props.console_message.length - 1 }, () => this.setState({ text: this.props.console_message[this.props.console_message.length - 1] }))\n            } else {\n                this.setState({ text: this.props.console_message[0 + parseInt(this.state.history_counter)] })\n            }\n        }\n    }\n\n    componentDidMount() {\n        document.addEventListener(\"keydown\", this.handleKeyPress);\n\n        EventManager.addHandler('phone_console', value => {\n            if (value.type === 'updateUser') {\n                this.setState({ current_user: value.user })\n            } else if (value.type === 'updateServer') {\n                this.setState({ current_server: value.server })\n            } else return;\n        })\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener(\"keydown\", this.handleKeyPress);\n        EventManager.removeHandler('phone_console');\n    }\n\n    inputChange(message) {\n        if (this.state.text && this.state.text.length >= 500) return; // Макс длинна сообщения 600 символов\n        this.setState({ text: message.target.value })\n    }\n\n    inputFocus(focus) {\n        try {\n            mp.trigger('client:phone:inputModal', true); // eslint-disable-line\n        } catch (e) {\n        }\n    }\n\n    inputBlur(focus) {\n        try {\n            mp.trigger('client:phone:inputModal', false); // eslint-disable-line\n        } catch (e) {\n        }\n    }\n\n    sendMessage() {\n        if (this.state.text !== undefined || this.state.text === '') {\n            this.props.consoleCommand(`[${this.state.current_user}@${this.state.current_server}:~ ] $ ${this.state.text}`);\n\n            try {\n                mp.trigger('client:phone:consoleCallback', this.state.text); // eslint-disable-line\n            } catch (e) {\n            }\n        }\n        this.setState({ text: '', history_counter: 0 })\n    }\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"dedbit-menu\">\n                    <div className=\"console-main\">\n                    <span className=\"iphone__app__name\">Konsolė</span>\n                        <ul className=\"console-chat-ul\">\n                            {this.props.console_message.map((e, i) => {\n                                let index = `consolelist${i}`\n                                return (\n                                    <li key={index}>{e}</li>\n                                    /*<li key={index}><a>[{this.state.current_user}@{this.state.current_server}:~ ] $ </a>{e}</li>*/\n                                )\n                            })}\n                        </ul>\n                        <div className=\"console-input\">\n                            {/* <textarea ref={c => (this.textarea = c)} \n                                className=\"c-i-style \" /> */}\n                            <span>{`$:>`}</span>\n                            <input type=\"text\" className=\"c-i-style\"\n                                value={this.state.text} onBlur={(e) => this.inputBlur(e)} onFocus={(e) => this.inputFocus(e)} onChange={(e) => this.inputChange(e)}\n                            />\n                            {/* <MaterialIcon icon=\"send\" size={22} color=\"#67B1F8\" onClick={() => this.sendMessage()} /> */}\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Console;\n"]},"metadata":{},"sourceType":"module"}