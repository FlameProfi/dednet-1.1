{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Skaidrius\\\\Downloads\\\\ragemppro_dednet\\\\STATE-RAGE-UI-master-fixed\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import Fab from'@material-ui/core/Fab';import AddIcon from'@material-ui/icons/Add';var Messenger=/*#__PURE__*/function(_React$Component){_inherits(Messenger,_React$Component);var _super=_createSuper(Messenger);function Messenger(props){var _this;_classCallCheck(this,Messenger);_this=_super.call(this,props);_this.state={};return _this;}_createClass(Messenger,[{key:\"componentDidCatch\",value:function componentDidCatch(error,errorInfo){mp.trigger('client:ui:debug','Messenger.jsx',error,errorInfo);// eslint-disable-line\n}},{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.setState({chats:this.props.data},function(){var _loop=function _loop(i){_this2.setState(function(prevState){return _objectSpread({},prevState.chats[i].message=_toConsumableArray(_this2.state.chats[i].message).sort(function(a,b){if(a.date===b.date){return b.time>a.time;}return a.date<b.date?1:-1;}));});};for(var i=0;i<_this2.state.chats.length;i++){_loop(i);}});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProp,prevState){var _this3=this;if(this.props.data!==prevProp.data){this.setState({chats:this.props.data},function(){var _loop2=function _loop2(i){_this3.setState(function(prevState){return _objectSpread({},prevState.chats[i].message=_toConsumableArray(_this3.state.chats[i].message).sort(function(a,b){if(a.date===b.date){return b.time>a.time;}return a.date<b.date?1:-1;}));});};for(var i=0;i<_this3.state.chats.length;i++){_loop2(i);}});}}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"dedbit-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"u-title\"},/*#__PURE__*/React.createElement(\"span\",{className:\"u-texttittle-center\"},\"Onion Messenger\")),/*#__PURE__*/React.createElement(\"div\",{className:\"messenger-main\"},this.state.chats.map(function(e,i){try{var index=\"umessagechatbox\".concat(i);return/*#__PURE__*/React.createElement(\"div\",{className:\"m-box-sms\",key:index,onClick:function onClick(){return _this4.props.selectChat(e.phone_number);}},/*#__PURE__*/React.createElement(\"img\",{src:\"https://a.rsg.sc//n/socialclub\",alt:\"\",className:\"m-img-sms\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"m-box-messeng\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-box-clm-mes\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mes-title\"},_this4.props.getContactByNumber(e.phone_number)!==null?_this4.props.getContactByNumber(e.phone_number).name:e.phone_number),/*#__PURE__*/React.createElement(\"div\",{className:\"mes-text\"},e.message.length!==0?e.message[0].text:'')),/*#__PURE__*/React.createElement(\"div\",{className:\"m-box-clm-info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-time\"},e.message.length!==0?e.message[0].time.substr(0,5):''),e.new_messages!==undefined&&e.new_messages>0?/*#__PURE__*/React.createElement(\"div\",{className:\"m-crl-box\"},e.new_messages):null)));}catch(e){console.log(e);return null;}}),/*#__PURE__*/React.createElement(Fab,{color:\"primary\",\"aria-label\":\"add\",onClick:function onClick(){return _this4.props.setLink('/phone/android/messenger/addchat');}},/*#__PURE__*/React.createElement(AddIcon,null)))));}}]);return Messenger;}(React.Component);export default Messenger;","map":{"version":3,"sources":["C:/Users/Skaidrius/Downloads/ragemppro_dednet/STATE-RAGE-UI-master-fixed/src/components/phone/components/apps/Messenger.jsx"],"names":["React","Fab","AddIcon","Messenger","props","state","error","errorInfo","mp","trigger","setState","chats","data","i","prevState","message","sort","a","b","date","time","length","prevProp","map","e","index","selectChat","phone_number","getContactByNumber","name","text","substr","new_messages","undefined","console","log","setLink","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\n\nclass Messenger extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {}\n    }\n\n    componentDidCatch(error, errorInfo) {\n        mp.trigger('client:ui:debug', 'Messenger.jsx', error, errorInfo); // eslint-disable-line\n    }\n\n    componentWillMount() {\n        this.setState({ chats: this.props.data }, () => {\n            for (let i = 0; i < this.state.chats.length; i++) {\n                this.setState(prevState => ({\n                    ...prevState.chats[i].message = [...this.state.chats[i].message].sort(\n                        function (a, b) {\n                            if (a.date === b.date) {\n                                return b.time > a.time;\n                            }\n                            return a.date < b.date ? 1 : -1;\n                        })\n                }))\n            }\n        })\n    }\n\n    componentDidUpdate(prevProp, prevState) {\n        if (this.props.data !== prevProp.data) {\n            this.setState({ chats: this.props.data }, () => {\n                for (let i = 0; i < this.state.chats.length; i++) {\n                    this.setState(prevState => ({\n                        ...prevState.chats[i].message = [...this.state.chats[i].message].sort(\n                            function (a, b) {\n                                if (a.date === b.date) {\n                                    return b.time > a.time;\n                                }\n                                return a.date < b.date ? 1 : -1;\n                            })\n                    }))\n                }\n            })\n        }\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"dedbit-menu\">\n                    <div className=\"u-title\">\n                        <span className=\"u-texttittle-center\">Onion Messenger</span>\n                    </div>\n                    <div className=\"messenger-main\">\n                        {this.state.chats.map((e, i) => {\n                            try {\n                                let index = `umessagechatbox${i}`\n                                return (\n                                    <div className=\"m-box-sms\" key={index}\n                                        onClick={() => this.props.selectChat(e.phone_number)}>\n                                        <img src=\"https://a.rsg.sc//n/socialclub\" alt=\"\" className=\"m-img-sms\" />\n                                        <div className=\"m-box-messeng\">\n                                            <div className=\"m-box-clm-mes\">\n                                                <div\n                                                    className=\"mes-title\">{this.props.getContactByNumber(e.phone_number) !== null ? this.props.getContactByNumber(e.phone_number).name : e.phone_number}</div>\n                                                <div\n                                                    className=\"mes-text\">{e.message.length !== 0 ? e.message[0].text : ''}</div>\n                                            </div>\n                                            <div className=\"m-box-clm-info\">\n                                                <div\n                                                    className=\"m-time\">{e.message.length !== 0 ? e.message[0].time.substr(0, 5) : ''}</div>\n                                                {e.new_messages !== undefined && e.new_messages > 0 ?\n                                                    <div className=\"m-crl-box\">{e.new_messages}</div> : null}\n                                            </div>\n                                        </div>\n                                    </div>\n                                )\n                            } catch (e) {\n                                console.log(e);\n                                return null;\n                            }\n                        })}\n                        <Fab color=\"primary\" aria-label=\"add\" onClick={() => this.props.setLink('/phone/android/messenger/addchat')}>\n                            <AddIcon />\n                        </Fab>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Messenger;\n"]},"metadata":{},"sourceType":"module"}